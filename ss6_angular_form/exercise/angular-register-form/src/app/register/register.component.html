<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
  <p>
    <label for="name">User Name </label>
    <input type="text" id="name" name="name" formControlName="name" required="required">
  </p>

  <div *ngIf="!email?.valid && (email?.dirty ||email?.touched)" class="alert alert-danger">
    <div [hidden]="!email?.errors.required">
      Email is required!
    </div>
    <div [hidden]="!email?.errors.email">
      Wrong format of Email!
    </div>
  </div>

  <p>
    <label for="password">Password </label>
    <input type="password" id="password" name="password" formControlName="password">
  </p>

  <div *ngIf="!password?.valid && (password?.dirty ||password?.touched)" class="alert alert-danger">
    <div [hidden]="!password?.errors.required">
      Password is required!
    </div>
    <div [hidden]="!password?.errors.minlength">
      Password's length must be above 6 digits!
    </div>
  </div>

  <p>
    <label for="confirmPassword">Confirm Password </label>
    <input type="password" id="confirmPassword" name="confirmPassword" formControlName="confirmPassword">
  </p>

  <div *ngIf="confirmPassword?.touched && confirmPassword?.invalid" class="alert alert-danger">
    <div *ngIf="confirmPassword?.errors.required">Password Confirmation is Required!</div>
  </div>
  <div class="alert alert-danger" *ngIf="registerForm.hasError('mismatchedPassword')">Mismatched Password!</div>

  <p>
    <label for="country">Country </label>
    <select id="country" name="country" formControlName="country">
      <option [ngValue]="c.id" *ngFor="let c of countryList">
        {{c.name}}
      </option>
    </select>
  </p>

  <div *ngIf="!country?.valid && (country?.dirty ||country?.touched)" class="alert alert-danger">
    <div [hidden]="!country?.errors.required">
      Country is Required!
    </div>
  </div>

  <p>
    <label for="age">Age </label>
    <input type="number" id="age" name="age" formControlName="age">
  </p>

  <div *ngIf="!age?.valid && (age?.dirty ||age?.touched)" class="alert alert-danger">
    <div [hidden]="!age?.errors.required">
      Age is Required!
    </div>
    <div [hidden]="!age?.errors.min">
      Age must be above 18!
    </div>
  </div>

  <p>
    <label for="gender">Gender </label>
    <input type="radio" value="male" id="gender" name="gender" formControlName="gender"> Nam
    <input type="radio" value="female" id="gender" name="gender" formControlName="gender"> Ná»¯
  </p>

  <div *ngIf="!gender?.valid && (gender?.dirty ||gender?.touched)" class="alert alert-danger">
    <div [hidden]="!gender?.errors.required">
      Gender is Required!
    </div>
  </div>

  <p>
    <label for="phoneNumber">Phone Number </label>
    <input type="text" id="phoneNumber" name="phoneNumber" formControlName="phoneNumber">
  </p>

  <div *ngIf="!phoneNumber?.valid && (phoneNumber?.dirty ||phoneNumber?.touched)" class="alert alert-danger">
    <div [hidden]="!phoneNumber?.errors.required">
      Phone Number is Required
    </div>
    <div [hidden]="!phoneNumber?.errors.pattern">
      Mismatching Phone Number Format
    </div>
  </div>

  <p>
    <button type="submit" [disabled]="!registerForm.valid">Submit</button>
  </p>

</form>

<table>
  <tr *ngFor="let item of infoDatabase">
    <td>{{item.email}}</td>
    <td>{{item.age}}</td>
    <td>{{item.password}}</td>
    <td>{{item.confirmPassword}}</td>
    <td>{{item.gender}}</td>
  </tr>
</table>
